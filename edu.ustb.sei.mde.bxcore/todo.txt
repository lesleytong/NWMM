1. refactor all graph APIs
2. re-define pattern and its type system in Core
3. re-define type inference rules in DSL